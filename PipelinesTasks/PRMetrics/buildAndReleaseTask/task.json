{
  "$schema": "https://raw.githubusercontent.com/microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
  "id": "907d3b28-6b37-4ac7-ac75-9631ee53e512",
  "name": "prmetrics",
  "friendlyName": "PR Metrics 1.1.0",
  "description": "Updates the title, description, and comments of pull requests to provide at-a-glance metrics.",
  "helpUrl": "https://github.com/microsoft/OMEX-Azure-DevOps-Extensions/blob/main/PipelinesTasks/PRMetrics/README.md",
  "helpMarkDown": "[More information](https://github.com/microsoft/OMEX-Azure-DevOps-Extensions/blob/main/PipelinesTasks/PRMetrics/README.md)",
  "author": "Microsoft Corporation",
  "category": "Azure Pipelines",
  "demands": [
    "api-version/4.1"
  ],
  "minimumAgentVersion": "2.141.0",
  "version": {
    "Major": 1,
    "Minor": 1,
    "Patch": 0
  },
  "instanceNameFormat": "PR Metrics",
  "inputs": [
    {
      "name": "BaseSize",
      "label": "Base size",
      "type": "string",
      "helpMarkDown": "The maximum number of new lines in a small PR. If left blank, a default of '250' will be used."
    },
    {
      "name": "GrowthRate",
      "label": "Growth rate",
      "type": "string",
      "helpMarkDown": "The growth rate applied to the base size for calculating the size of larger PRs. If left blank, a default of '2.0' will be used."
    },
    {
      "name": "TestFactor",
      "label": "Test factor",
      "type": "string",
      "helpMarkDown": "The lines of test code expected for each line of product code. If left blank, a default of '1.5' will be used."
    },
    {
      "name": "FileMatchingPatterns",
      "label": "File matching patterns",
      "type": "multiLine",
      "helpMarkDown": "[Azure DevOps file matching patterns](https://docs.microsoft.com/azure/devops/pipelines/tasks/file-matching-patterns) specifying the files and folders to include. Autogenerated files should typically be excluded. Excluded files will contain a comment to inform reviewers that they are unlikely to need to review those files. If left blank, a default of '**/*' will be used."
    },
    {
      "name": "CodeFileExtensions",
      "label": "Code file extensions",
      "type": "multiLine",
      "helpMarkDown": "Extensions for files containing code so that non-code files can be excluded. If left blank, a default set of file extensions will be used."
    }
  ],
  "execution": {
    "Node10": {
      "target": "index.js"
    }
  },
  "messages": {
    "updaters.pullRequest.addDescription": "❌ **Add a description.**",
    "updaters.pullRequest.titleFormat": "%s ◾ %s",
    "updaters.pullRequest.titleSizeIndicatorFormat": "%s%s",
    "updaters.pullRequest.titleSizeL": "L",
    "updaters.pullRequest.titleSizeM": "M",
    "updaters.pullRequest.titleSizeS": "S",
    "updaters.pullRequest.titleSizeXL": "%sXL",
    "updaters.pullRequest.titleSizeXS": "XS",
    "updaters.pullRequest.titleTestsInsufficient": "⚠️",
    "updaters.pullRequest.titleTestsSufficient": "✔",
    "updaters.pullRequestComments.commentFooter": "[Metrics added by PR Metrics. Add to Azure DevOps today!](https://marketplace.visualstudio.com/items?itemName=ms-omex.prmetrics)",
    "updaters.pullRequestComments.commentTitle": "# Metrics for iteration %s",
    "updaters.pullRequestComments.fileIgnoredComment": "❗ **This file may not need to be reviewed.**",
    "updaters.pullRequestComments.largePullRequestComment": "❌ **Try to keep pull requests smaller than %s lines of new product code by following the [Single Responsibility Principle (SRP)](https://wikipedia.org/wiki/Single-responsibility_principle).**",
    "updaters.pullRequestComments.smallPullRequestComment": "✔ **Thanks for keeping your pull request small.**",
    "updaters.pullRequestComments.tableIgnored": "Ignored",
    "updaters.pullRequestComments.tableLines": "Lines",
    "updaters.pullRequestComments.tableProductCode": "Product Code",
    "updaters.pullRequestComments.tableSubtotal": "Subtotal",
    "updaters.pullRequestComments.tableTestCode": "Test Code",
    "updaters.pullRequestComments.tableTotal": "Total",
    "updaters.pullRequestComments.testsInsufficientComment": "⚠️ **Consider adding additional tests.**",
    "updaters.pullRequestComments.testsSufficientComment": "✔ **Thanks for adding tests.**"
  }
}
