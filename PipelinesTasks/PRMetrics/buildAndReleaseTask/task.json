{
  "$schema": "https://raw.githubusercontent.com/microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
  "id": "907d3b28-6b37-4ac7-ac75-9631ee53e512",
  "name": "prmetrics",
  "friendlyName": "PR Metrics 1.1.1",
  "description": "Augments pull request titles to let reviewers quickly determine PR size and test coverage.",
  "helpUrl": "https://github.com/microsoft/OMEX-Azure-DevOps-Extensions/blob/main/PipelinesTasks/PRMetrics/README.md",
  "helpMarkDown": "[More information](https://github.com/microsoft/OMEX-Azure-DevOps-Extensions/blob/main/PipelinesTasks/PRMetrics/README.md)",
  "author": "Microsoft Corporation",
  "category": "Azure Pipelines",
  "minimumAgentVersion": "1.95.1",
  "version": {
    "Major": 1,
    "Minor": 1,
    "Patch": 1
  },
  "instanceNameFormat": "PR Metrics",
  "inputs": [
    {
      "name": "BaseSize",
      "label": "Base size",
      "type": "string",
      "helpMarkDown": "The maximum number of new lines in a small PR. If left blank, a default of '250' will be used."
    },
    {
      "name": "GrowthRate",
      "label": "Growth rate",
      "type": "string",
      "helpMarkDown": "The growth rate applied to the base size for calculating the size of larger PRs. If left blank, a default of '2.0' will be used."
    },
    {
      "name": "TestFactor",
      "label": "Test factor",
      "type": "string",
      "helpMarkDown": "The lines of test code expected for each line of product code. This check can be disabled by setting the value to '0'. If left blank, a default of '1.5' will be used."
    },
    {
      "name": "FileMatchingPatterns",
      "label": "File matching patterns",
      "type": "multiLine",
      "helpMarkDown": "[Azure DevOps file matching patterns](https://docs.microsoft.com/azure/devops/pipelines/tasks/file-matching-patterns) specifying the files and folders to include. Autogenerated files should typically be excluded. Excluded files will contain a comment to inform reviewers that they do not to need to review those files. If left blank, a default of '**/*' will be used."
    },
    {
      "name": "CodeFileExtensions",
      "label": "Code file extensions",
      "type": "multiLine",
      "helpMarkDown": "Extensions for files containing code so that non-code files can be excluded. If left blank, a default set of file extensions will be used."
    }
  ],
  "execution": {
    "Node10": {
      "target": "index.js"
    }
  },
  "messages": {
    "index.succeeded": "PR Metrics succeeded",
    "metrics.codeMetrics.titleSizeIndicatorFormat": "%s%s",
    "metrics.codeMetrics.titleSizeL": "L",
    "metrics.codeMetrics.titleSizeM": "M",
    "metrics.codeMetrics.titleSizeS": "S",
    "metrics.codeMetrics.titleSizeXL": "%sXL",
    "metrics.codeMetrics.titleSizeXS": "XS",
    "metrics.codeMetrics.titleTestsInsufficient": "⚠️",
    "metrics.codeMetrics.titleTestsSufficient": "✔",
    "metrics.codeMetricsCalculator.noAccessToken": "Could not access the OAuth token. Enable the option 'Allow scripts to access OAuth token' under the build process phase settings.",
    "metrics.codeMetricsCalculator.noPullRequest": "The build is not running against a pull request. Canceling task with warning.",
    "metrics.inputs.adjustingBaseSize": "Adjusting the base size input to '%s'.",
    "metrics.inputs.adjustingCodeFileExtensions": "Adjusting the code file extensions input to '%s'.",
    "metrics.inputs.adjustingFileMatchingPatterns": "Adjusting the file matching patterns input to '%s'.",
    "metrics.inputs.adjustingGrowthRate": "Adjusting the growth rate input to '%s'.",
    "metrics.inputs.adjustingTestFactor": "Adjusting the test factor input to '%s'.",
    "metrics.inputs.disablingTestFactor": "Disabling the test factor validation.",
    "metrics.inputs.settingBaseSize": "Setting the base size input to '%s'.",
    "metrics.inputs.settingCodeFileExtensions": "Setting the code file extensions input to '%s'.",
    "metrics.inputs.settingFileMatchingPatterns": "Setting the file matching patterns input to '%s'.",
    "metrics.inputs.settingGrowthRate": "Setting the growth rate input to '%s'.",
    "metrics.inputs.settingTestFactor": "Setting the test factor input to '%s'.",
    "pullRequests.pullRequest.addDescription": "❌ **Add a description.**",
    "pullRequests.pullRequest.titleFormat": "%s ◾ %s",
    "pullRequests.pullRequestComments.commentFooter": "[Metrics computed by PR Metrics. Add it to your Azure DevOps builds!](https://marketplace.visualstudio.com/items?itemName=ms-omex.prmetrics)",
    "pullRequests.pullRequestComments.commentTitle": "# Metrics for iteration %s",
    "pullRequests.pullRequestComments.largePullRequestComment": "❌ **Try to keep pull requests smaller than %s lines of new product code by following the [Single Responsibility Principle (SRP)](https://wikipedia.org/wiki/Single-responsibility_principle).**",
    "pullRequests.pullRequestComments.noReviewRequiredComment": "❗ **This file doesn't require review.**",
    "pullRequests.pullRequestComments.smallPullRequestComment": "✔ **Thanks for keeping your pull request small.**",
    "pullRequests.pullRequestComments.tableIgnoredCode": "Ignored Code",
    "pullRequests.pullRequestComments.tableLines": "Lines",
    "pullRequests.pullRequestComments.tableProductCode": "Product Code",
    "pullRequests.pullRequestComments.tableSubtotal": "Subtotal",
    "pullRequests.pullRequestComments.tableTestCode": "Test Code",
    "pullRequests.pullRequestComments.tableTotal": "Total",
    "pullRequests.pullRequestComments.testsInsufficientComment": "⚠️ **Consider adding additional tests.**",
    "pullRequests.pullRequestComments.testsSufficientComment": "✔ **Thanks for adding tests.**"
  }
}
